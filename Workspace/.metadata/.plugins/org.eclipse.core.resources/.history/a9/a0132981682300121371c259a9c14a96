package p1;

import gnu.io.CommPortIdentifier;
import gnu.io.SerialPort;

import java.util.List;

import p1.SerialPortTools;

public class Server {
	
	private static String commPortName = "COM1";		//TOCHANGE
	
	private static SerialPort sp;

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		
		
		List<CommPortIdentifier> commPortsList = SerialPortTools.findSerialPorts();
		if(!commPortsList.isEmpty()) {
			Object sp = SerialPortTools.initSerialPort(commPortsList.get(0), SerialPortTools.serialPortSettings);
			if(sp.getClass().getName() != "gnu.io.RXTXPort") {
				System.out.println("this is a port");
			}
			
			for (CommPortIdentifier cpi : commPortsList) {
				if (cpi.getName().compareTo(commPortName) == 0)
					System.out.println("Chosen port "+cpi.getName()+" initialized.\n");
			}			
		}
		
		String message = "Hello world";
		byte [] flow = message.getBytes();
		//commPortList.get(0).
		
	}

}
